language: node_js
sudo: required
node_js:
  - '4.3'
  - '6.3'
cache:
  edge: true
  directories:
    - $(npm root -g)
    - node_modules
    - deep_modules
    - $(npm config get prefix)/bin
branches:
  only:
    - master
    - dev
    - stage
    - test
before_install:
  - cp bin/test/package.json .
after_success:
  - npm run coverage
after_script:
  - npm run remove-coverage
env:
  matrix:
    - TEST_SUITE=backend
    - TEST_SUITE=frontend
  global:
    - 'MAJOR_VERSIONS=master,stage'
    - DEEP_NO_INTERACTION=1
    - E2E_TESTING=none
    - secure: 
        NAdPvpG4O8G0UL5Mc8CWmWLmpZxqquNu+k61GR4ozC7x+HL85vcc8mOu8fmNeO2SbPH+8yovi9sxvMZZBI2sC+K23u44OrcDG3oTjLGvg+uKYlXtwKCRly/jUOXAzEehJupptm4HFb56APDRYX63pNXaXOOSEccqHNa5/MspQflj3cggGyOJ1bj71PH/eQmPOJDOQZkDDNDnfZq19dHWCEeNnAKpXpk4R9DYBhej3cXpfae+puNnjUUr1DYk6st3OsHw/lcc9OKZPRBNOGCWA7gLHCNGmX1bUtfGAZhzrjhsW8woT33/NZqPr7ICLHzpsTuCmNXx0SUKo6Ogiw+Nf4JEG06sJv9iaQD+cK0hD2zeMgs4Oaa9XE1bWYL7VuxjpMzDzJMSvBhYupQ+0UexrEMg9ze2YbDO0B2E4bx1M/33ztaoqOzqy6GCMwj7JWNO3dgKQJvM+9c6VtU8TofBNqB+ROVSFJCFGrO7qOrFGwyo3bVHyzYe7gPOzH2fmfFRdVpEbr0nLwaSB1YvqTjbu+RG7LdgVk5UoiPM7kZOYTGsWIws+hrtSVo6UPZxdWUGirvGewpV8Q7BzduK4urQ6UjDiFqfz4Cx+c1I+fxUW7ZieHhsEsziKU7M9cTQQ5fmELH3HlJDyWd6ME/NQXNHae0K/IpdsFoT+FC25Iu+Cww=
    - secure: 
        WG1ANBRgNx/tKZ18L8+/jT17HoWssqLcC0fasMpVE/mt9LDHSKsa2si2YdrHuawnQPKb1y7XBgdwXznwoizpj8Nii4EJZDTj1rLNHRAxyLvsp4USbwHjp0pHm8KJh58wp+12ySUVCQynZothOR/SRz7zDSy1E/eMqFTUIZBrXY4yB1NqHJZVes2XbwFZo3PLwXDb713q7NZ5eTyLWWwDdCj9t35B8ZVfDNehoni65tY+4IeicfjoaBqm2zHrm58jnWygM5Q3ZV7jNU7Y1aemm9zOU+K46mhIJfStO9mTsyoIG57vR+r5FsM11DVknI8Nl9uWFUicSTgGag3Gfj7zJc43HPLyRfzSAXjN2Np5VCukoh736P/HNDwqqaBaNxhubkoWXu2YDH2G0FAXwnJ79CwpF/LfIFZyQsWhlEDJeGW/Yb0rmTxkXQc2EO6RflM5bfAB4vkUbl2UUc07l7nQ2re5g++YopRYnO1Up57CsIXXnYze6kFLV3h0HX60CYPH/VCN3br06x5ZxIw05RRO3GP6ZiTJGBZk8SmNBus/rAogImXrodtxPyvdf25gS3NobY50UjaKHOKZjBMtCavqzRzloXe8xwF0TYhvhh1A0+a3+5ibLEnsAYbCWMawz5htY1f+SkqfQiL2Z3CLR1KXi9M0tU+euSLzcOhr1R/ZwI0=
    - secure: 
        UmnULJYW7BVUz/QaoFbY6jyYIkppy/TrhdqZmVC5RZU0jkamjvBPWbmB8cqwiFttHLOcmqBhhC9KoGv/Su3P1WKQ1orwR9bX6laZPeNtfbrATyJ0NINh5+go+i70k+mbrabjSP6XiFOUifXz+FTG9JzzHNLp9Bx5gSFifREHX2abnun/07ItRvDbwunia1xbUNWJrkRG0II5DM50yttlVBJzZ5odBQGslv7wWsBh3oG55/rqLluWyFRMHNw5noMg7uSOWhOy9M7KMokYsDUZzhgxGHl0Urfri4IA8SABWK7OE8Act2IRy41GMCQXJnnzCTs9l0biZ1fB5SxaPdoUYg9sv074Di0wZIiA6OVIkwtkue2skmyKpxNSyBtoKeraAYBzHYdgZI7TjXn1Vaxb2V8LzKD7BoL8gLBgxXBFjLFaBuP/tV6/CyqMRqk9xCrxVCj9u++WjGvOgZU0Oly/ponOkq5QtbEQtue9voTljwLK4Vhhvc/IR0wC+oiLnM4hFASr6aCsV8e+diQwMGQGyK+JoRu9hb1AB+1y+I1m6choUPHJu9Ac1DGkPvGGCw+7YbwVjxWWfq6n+jQc6x7thW/vNdIZuU7GWrrAIWvFbYOE+5aSdZb5kZyL0ye6s27JacYQuNWmUCNoKJON8ez+Z0ta0JWUIRo9XyGabr4rFfY=
    - secure: 
        hL3hsTi8bJEM32s98JglqrAudBVv66pjQQqPPzmGHWjg3etom++pZ+wVJJc8dmnPQdpn3WH4cR3Kg2mHesoJzceQobIaNUg4xmS22SJs9Q6Zkgz7XJE0TBw0Jdxn4pAAyVwnOywgtbWB0HLftUQvDOH09+3Ha2T32YHDrTl3HWG6PvAqVQq1dxtQghMj2z2kwyp/Kim5IpX8Yw56TW75EE+wQXMsKTmog/4WYhEPmxLkcRKDuSlz35PDp4nGrl5Ct4Imn6rSUnZ8wi/5rTN1HqmJGc15um1MM73hGi4HLL/UoKC1n1sqStPIEiXEgyC0OuXY3h39B08nbgYwnWNpGHBmhpyTBoAwpv5UDu0Snuoui0mU5ml/YIMZasV94pIdx4/Ol3v8TPCGLLtl+D3nltEMIxeMMxqcbciT776sv1U2l7ZZaJbmidLZkYRFIXr+Ito/BFvohoRmEuu6QD1KTgMpRTOWsc8LESj8TRui/C6qpxTVtK7UwzuksunHNwcGDcKYX9K+HMGFjf9cbEGtCMAbB2Act1tcQERZQE0HBRd54LUFEH059wHkaM6AzjKHByUePX/9MXMuH9HD73AnbgmDOqylyNfu9CBk1IHgmGjQ83gz59o5rkGdOJ0ejvBM5CjnSKgHGgawWSsf8g+MceG1Gjd+Uvro/VzEHO/euYg=
    - secure: 
        Wu2VNmqnVh4xqVG7/Tk2q6dUG03xn3+vPojvRfb4Jibbuyuxqg8ZdxL7zdF6+3CGTN90+GCNLncTg/hBR07MncJCTXNuh1DyKr2HiSdqQZUcaQxLr6AquXYWCS8K9ycPxz8NgIrQiJ5aDUEJFf6yARQf0On7lSQxPgL7/DA5zNKVQzk4hILpNgdneHY/s8KFPyTIBPpChPnPhp2/jnev64Iay0zJVDQ1DDBzIguSsn9AWnCtzFO3RU+Wkd6pbY03/sNCGvEsgHgsz6lJVrv7QzgXPJVV8ejAoab3gPjoj8CXbQUi2rsWwWdnEvR1BvL9GBItPwFrEOxjbZXX94vocKd1eL5icVNdLF83jpgp47bdevFSzmkLpR70FXmck66/Fxbts/C/ZGnpKLFHB3j91D+jJ8SZ8+PVxAG4Vpbwei/4Br9WIusq9pmuE8o63LqwHOwvP2T+NFJZyIbGnhGNIMsvF42OC+9gT4GCy9OtQmX1RfBayVJZ0raZgPOTbuZASMRGG8wHip8TgTks/0MNAFKqJTYCZ8tn8SIwNReCtS+GE+bnI94Ui2YEHrxDmsMiaob1WL5rxPoKZQPyuShmp1HoSYr5wJOcTNQr/g0fRQMDX7AWvsW2SgvO+e+aXQqvpg7Xbks4jCuPs4dFvfmXHJyyXnq2TP1fSmBHIl32MrE=
    - secure: 
        d4HPlvuYVU7DeihTBxqwT04ZfPWuDCGuLq6Tdse4pcyiur3s7tVK5Nb7x1m3vJytE0KOJ1dQxTyuAUPjU5MxzJ6leGzGzry3HmneIHs19rsINCDUROQmkVewqJDGjgUR4yuRbM5/6QGFhcbjwKeQUcGaeSqIN9q5djtV/va8X8nsG8G5L/wn9th9VKzGtleQbRMGMbwD82XkD0NE0r+jUBllSbSrkRnpVIrv7JS18G1HizG/9HamNuESfF+m1Cbiz/0mLXLcehr+MUeaRE8LeHf6QDId8x/G+8V+zYfh5Vwf448AS8ve09LfoizcFO2x26ZXKfZwFXVlhCDRlHFmjxrT4yag98x3kyHkkCusXunGnODTRdoc62QGdlmedffD+CfIkW9ymuvYpsvBvZFFwYZTPm4sZ8dOMyg4SZrmpLjcNmXOIxjofyHVbtqxo7Ungo/sSZg+1dblv6uIvcihhuLjtFtUnPjguNg1k3SIenP8e1r8nu0PyovM5uAkKGSi+aposAnQtistkjfRXFg+sIPbJzCx73lRVpx89ivZwKmsHLdUK/KIHFudwgto8vU4NtSgo5r8u2w3J4I4HXuJPV2MxJ4XEBztQIya47eahoTUBV4Coai8gGM1dPpTNyPwd2PMKgDRHIkXVAdCP/o7vY7oCJqSbwz2g5dA4p8yWuQ=
    - secure: 
        F3SZUOOGRvAAew43OIAVWv19+cxESiviRfEi51f0LpfZBhOykvasm2PF0dmu5W4f4VsvJYWRWEBe/u3BxXzLmuvsP3ilU7aUfdjJeP9j4c9z6ufO1DrUdkfHiH9gT3Ke+R/PAr23OF7AO8RlAfxYWVTFArZu9cdO0bdODC8Tm6AzCPGl3hmoufwPXczlDnJzmXDJmZBjPDN+lfZUOW/owaau65je5dCseU7txt3/HWqfV/4/sKPGVlLbCNTGvy2NpAYFLe/pFPhyc/J6ZL0BuydH+z+imChwaIYyCxtAKqy0XKV1Kd+XUPvYglpin4v8TCVGI8I2O98eGpRSOFUZWf9Mg2qzowcrYjAo/xVthXfiI5UsbcqIVfKIWYVzKQKOMd/CA2o90moV2nXPHjYvFazRVu1Bqfm1yNyQiDbYc6JQoF6rDHUofIVBWtou1BASB0tHqP1oyJpzJBMQJSx1Yx4tp5DEd1eG0INFHfltvvixhaLvX8BrQIfP3bKSpKIU1BSWyozQ1Irj3QmUMvrMKl98Hs9JjjQTASO9epW9PLYKGrQlpXGoqyjdXic5HThFjgldCO1fVsUss8/sGpG/NudwKgf4pLFMhSYotFpEI8EBnSZXeGdVLE86jGjpJwBXmy3Fh/6TjL/m3Oa69GZmfGHMet6CVrJ2uTpnBTOEq9o=
    - secure: 
        RCPVrrfcvexZPlDS8KiR64liWX/VaVx9c7s//0giZxO7LKGUmpxB9nGu2bMn9IFQgKq/CjYbTODIMBI1qwdpEU8ChzcypRflCotvua5aa3WzrUOtvxTD+GfSK/99cjN2+TKV0m5Xz8Q5B/9nxzl6ds7CbcGO5AkP1blBImGYgo1RyFC/vCME09DcyIPvg/j2apSKVKjCWbelgVg+O5Oeouc48gnZbdha4DTua4jY5swsLZTo5HTgg/BJvappMVuyy1PzVBmDU+Ic7qIZMIHCATtd1qZAyxE9O7I8uvZbztUF04gsflL5Qc0akKmsxQWyefgvzkeVtEjw6j7NLitJhHMgNY0SNSwffISkEaKzU2ZrB4V84Sx6ehPA60qGJnLgTFpjpuy7YP1T8di1pnVjHRaVFMfLRzltOxvUThbAhsg99+OR0eu5N8wMoUyFu95uMJdVKr5ocONguLExMtCwIq8KD+cAzBS/H5SpESVrCv6wGdcWy4pY1fbEXtlbhgIKRAcxm+AxwYOLxluARxrTr1APmf29ZlBwim1HKs25tiSSkYBk9LMNSU9s+U4clM0bFoNswG0X2lcPF0GA4QYFBVmjsg73PpbAQJgnqMHp76DEJ5JYI9+zIjEerOZ1azCQXbKaJX8i/tsgeTmmpWX45xKLqfVIFEpee5bLfaHmBTg=
notifications:
  slack:
    secure: 
      V82TJsFHbmVgD34fqV0HBreCnP7Iyj4X2HIAfN3ZdEHSv6Ct744eNrp1heze8wlE9a9zPZzA6AeX+JswnjXh5jOZfpBwQiiBTQNX3NFmQTp5z+PYT1xasL0EAAS5YWwPD0naLFl/5vR8WjWWgB+m4DmQVcTO+NcUnHuBNHOPz/1Ou/um2sJ+7m9BHYOX6j+ZPZ43n2gXKB2sKWs+O4chxwmOOavTf2/uf047B+BPATwdU7IrEMzJOOOLUxS/OdCvcs/9QEVQIhYX+6A2zAwRTwO1JIuvWsatU0Gd8KIddS5v604aGGYlJ+7vZ8pA9eDpRESBW+uHVymbrpvN6z6Nyna8wJ8YM2dm/Z20mBACq9y3PJ9KQDrwWO9e7QpSKLDTCosDV7c7yRc6F3yeUtXXO4c/bD+IAIgmUWtPEFKS+4G/ZOHTDNRm9jSfUAXDtFhkrPvCH+Ozm+DYpUhhHKxC9SoabcM/4i4dHkii8PpsXWz6/ZXEWyOxIdoUeI1cVDWQRBJ6D2hisBUIu+3FyW2ITgrCOnAWm2wXvX2z3R6qjAbcmCRREkR3UVy5wx7KidN3Ytj9sZdsuA7JH0I+TalHZM6zZU29rBe3pl80yCHNA4ePSAJkx5zBOFOZ2cdlsroipuxi6+4NCHWkznl2rNv9CIXZR9nCtCca8LgphC9ueDs=
