language: node_js
dist: trusty
git:
  depth: 1
cache:
  edge: true
  directories:
    - node_modules
    - "$(npm root -g)"
    - "$(npm config get prefix)/bin"
branches:
  only:
    - master
    - stage
    - test
    - dev
env:
  global:
    # CODECLIMATE_REPO_TOKEN=[secure]
    - secure: "fRdlX4tG3L7ZI1DOnbMuwYXRCUL10wgQkhXhbuxEr93M7n0SLF7PlFMizAUffpwRqGR2U0SG+MQlVa04+15aHBM591DVcb9IqXGQpVsyJvgvMq9m2uAyxw+/+KdNpI/G8UvRi/9poL1DDYvUgMeDmA4c1narClPTUZjv14ExCHBBZruw8AGvDwH58HSFSGiSYMz6E7jBkFddTq974EMRxiCKG7+tdrk5d5To6FP3N5MbhQs2Mb3JZZHyoyKsMnQMue59Elpqsp1iaIUVbeSAqexArMWspAhx0VjXNO9aOVaK3zcCU7X45sBWvTUdj3jDGfxzDq4YlBDyGUWIweb8pz64PsPC8MVl9ocphkk4iVKi941nFcdVDHAFoS2rMVriIUo4OgtbxfE5G//EVb3cJTDkLXdyZ4uIZ0t1KCQeIeAAh4j2VrfQjgQTGYoTXcd31Ge+BM2VNl2QIWHmkPrgCVf4JZBDRd9tFhTxwYBMHWrpMDT8JYetrRMrI50hiv/CWQHxwAuBE0dW8csEU9WPMgFm+TZy/qNes3BpXb+KjiVfvsW3+Ag9LgQwdzgr0/s5RI9wMPh5lwDOImeXr1ZpF/2mA1I/ThLGN2wwTr4ArpC7kDE79RtrhQarCqWYmVrEdxJMfuEWL61lrKbSc4Qxg5snWamKkq/n0qQ9s5HXK2U="
    # AWS_DEFAULT_REGION=[secure]
    - secure: "dnoGWOYOCrjSkRvTbBHql+7NLkcp/SpGguzCh2U4Ztw+WmtkJ3JhFUSOIkg3XvY2sHtjzNiuyAY0LSDiAYPzNAkgJteEho8rXx38gvXe3cE2BcZhEBJbsypmVO30svtj3+4DXosTqPJ1fGmno+k2EOsz6OL4qbykx0kfvOdcE6Lri0XIWhWu/PYPdhJZ+3KV9lIEo0G1ubvPMnnPuhbs0Gs0VqqtGa1zkDXElzZ8Xr0ufe+CkHrHshSZVjgWpcR7Dra1Dwjag0n+K/Gzbt34Vy7W5VYeuXpDXUA2HrYWUiWeS6KrNF8wf8z6dqdPGpiZzn5UXEfDy/etC6ReSSqduCP8mpYp7w4Grd/tn/AFJC80TvNx1Hf6fvMxySNrjA8fvXmTTJHfG+SgGwHQy3fuKMOQrd+LgwXLEIpU2y8ZhqAGHkHp7/OffPgRFTbVShcW/7X5Ppp+mP6CcAipYpMS9wOGnzcWKEOgv8xZN2+Mv3rv7TWIboASZJL6mzddiQlnh2ge+YUZheTie430UWVbIYvXCf9yIp9aQj96d3kTrqdbkEaWxL/DhFR8slEyUOTKATUsY3vqHmP6d/j+qP3ruRvQk1pCY18iar+cdQ1CuemW35UbvajFu7BB25xT5pmpWBfk0txeosNvednRFGp7oDQnGqXICsxGzo5E6Ekjfbs="
    # AWS_ACCESS_KEY_ID=[secure]
    - secure: "gYOqmcsRzk9zPSMHSbyYLHmbpjp7K26nZcYKQxxyVSlnOrG9y439uUrh6Djz+NF8nIQZ5J27Cb1JUo8sGhTRRVSBtsWkdNzB1gVhHLPLjw/hkRws3zJ1gNy6CIwiaDLFjbG1AuteQrjjlmO5i9Tp0jjjSKqUeyjedxbpu4I+Cr6m1/f92MpBYNhF98Nxy2ot69vdAKLUea49SkOEV5ORNDG8SWvEfGPF5Ql1MwWA4LIUiupRZK9nlOIbu8nl0xshwnKCB4eiCSteR+JOJshlgB5Vp0OX7pl7T0U779bU3Mxmicx3NzF+sTSW1ICaCg60E4Iuy8zz3wDP3Jx8hKbr9WJVFt0lkgyGa+aR7dKw8HGj74rVX+Zy8D4IOqoQeElKhqYSiG0N/vyqYLRmu1mj5RK/SXosxtPRsDRxSC8SP+QK7RrwGfTnDAnGOm9hZI5e4oUMLsAII2cfX6d52Qa2fv6gQNYqnVsuGbQEMcIusWmGozLbaoFUJUJVfbqCr/fiVGHnhbkwlzEMKP3ND+CnqotOB5+ZCn0E26iUHEBWnB4OmgVk+kuOmGyASmwuaBkjZFvF/QDmw5+MJsUtFJLZ306XBrOXCV0p7Zto/HN9ihI5plkjoF4Yzyei/VzT2ol7m5y1+ihGUEB02zTpH3DUghD6KnEEc6etT3etzs+6Vt8="
    # AWS_SECRET_ACCESS_KEY=[secure]
    - secure: "HlYhmAuLhcIOxxB5uBaeN59YBX9Mi4LT/OErIHoXv08B9vTWCDf0H5A6YVTZziNfmXqF0994hGbBj0/pOFp0XrWFoCMm3UW5nmzIgjVmrAGxdckNiqbxwVTo9IZi+4FNZSaEXXIUJehO760AcIk8bQ8xD7iDRWBBWn+ps3kG2mJlQ6R42/zA06ShmPz1hepl4KRJ6/ZqY+NFR0JyZqdFE4AiWN/znBSqI3xAFnQhZFs4HTpxgvVv0Ccu0/aLLsnX/GGtAtm0iaUYT/3w58D55tVQINXPP7lGFZ152mvkEbImRERlG7IDwH83ESANCdtyK3ev8px3BpMvvIQtYYPX0SMW83XvJ0hUtaeawrsdADANxAg2KwW8cJKeMNe8tDHxzKTXixjah3tw1776rOe6yDZqV+vS5o+KXP8JyP0tBO+CRg2XG0AeLpH2F5+buLnnG9l2W5oRdMxs2Pyzja5ARilrmPvu8PUDf1BOPzL5I62PETs0cuC2uGP6d19zrhZVbX/IjfADKqWRveM42IyzTsBLmzogT+62ft6HbcBwlc8atwEzP+RIqDS3MgiQW5zakwJtOmf8TQ0eAWeOUDaBE4SoNS6LSbZWzfdg2lwYmaAVrU040XIsRaYIaQrpYKn/X1fSwAD1V/ukOgicyN13lC5VVY9ivkjw8JeFi5BFzIw="

stage: "Run Unit Tests :clipboard:"
node_js:
  - 6
  - 8
before_install:
  - bash bin/travis-init.sh
script:
  - recink run unit -c recink-codeclimate -c recink-snyk
