<h1>Lambdas Benchmark</h1>

<label>Loops:</label>
<input ng-model="main.config.loops" ng-pattern="/^\d+$/" name="loops" />

<label>Interval(ms)</label>
<input ng-model="main.config.interval" ng-pattern="/^\d+$/" name="interval" />

<div ng-repeat="resourceId in main.resources">
    <br />
    <form name="{{ resourceId }}" ng-submit="main.catchSubmit(resourceId)">
        {{ resourceId }}

        {{ resultSummary = main.getResultsSummary(resourceId);""}}
        <b ng-if="resultSummary !== null">
            (min:{{ resultSummary.min }}, max:{{ resultSummary.max }}, avg:{{ resultSummary.avg }})
        </b>
        <input type="submit" value="Start"/>
    </form>
</div>

<br/>
<p style="text-align: center" ng-bind="main.loadingText"></p>
<br/>

<div>
    <table datatable="ng" class="row-border hover">
        <thead>
        <tr>
            <th class="dt-body-center">Request #</th>
            <th class="dt-head-center">Start time</th>
            <th class="dt-head-center">Stop time</th>
            <th class="dt-head-center">Duration (ms)</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="request in main.resultsStack[main.workingResource]">
            <td class="dt-body-center">{{ request.index }}</td>
            <td class="dt-body-center">{{ request.start| date:'HH:mm:ss.sss' }}</td>
            <td class="dt-body-center">{{ request.stop| date:'HH:mm:ss.sss' }}</td>
            <td class="dt-body-center">{{ request.duration }}</td>
        </tr>
        </tbody>
    </table>
</div>
